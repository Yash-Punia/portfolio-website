import{al as e,T as t,am as n,an as s,Z as i,_ as a,$ as r,ao as o,a1 as c,ap as d,aq as h,X as l,S as w,i as m,s as p,e as u,c as f,a as x,d as v,b as g,f as S,u as R,w as A,x as b,A as $,r as E,t as y,g as W,N as z,O as C,G as H,ar as M,K as T,as as X,j as B,m as j,o as k,v as D}from"../chunks/vendor-06c7b264.js";class I{constructor(){this.init(),this.generateBalls(),this.setupXR(),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}startAR(){navigator.xr.requestSession("immersive-ar").then(this.onSessionStarted.bind(this)),document.body.appendChild(this.renderer.domElement)}generateBalls(){const i=(new e).load("gradient.png");for(let e=0;e<10;e++){const e=new t(new n(.2*Math.random(),20,20),new s({map:i})),a=4*Math.random()-2,r=Math.random()+.5,o=-4*Math.random()-1;e.position.set(a,r,o),this.scene.add(e)}}async onSessionStarted(e){this.renderer.xr.setReferenceSpaceType("local"),await this.renderer.xr.setSession(e),this.currentSession=e}setupXR(){this.currentSession=null,this.renderer.xr.enabled=!0;const e=this.renderer.xr.getController(0);e.addEventListener("select",(()=>{alert("tapped!")})),this.scene.add(e),this.controller=e}init(){this.scene=new i;const e=new a(16777215,.6);this.scene.add(e);const t=new r(16777215,.6);t.position.set(0,0,200),this.scene.add(t);const n=window.innerWidth/window.innerHeight;this.camera=new o(60,n,.1,1e3),this.camera.position.set(0,0,0),this.camera.lookAt(0,0,0),this.renderer=new c({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setAnimationLoop(this.animate.bind(this))}animate(){this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}createText(e,n){const i=document.createElement("canvas"),a=i.getContext("2d");let r=null;const o=100;a.font="normal 100px Arial",r=a.measureText(e);const c=r.width;i.width=c,i.height=o,a.font="normal 100px Arial",a.textAlign="center",a.textBaseline="middle",a.fillStyle="#ffffff",a.fillText(e,c/2,50);const w=new d(i);w.needsUpdate=!0;const m=new s({color:16777215,side:h,map:w,transparent:!0}),p=new l(n*c/o,n);return new t(p,m)}}function K(e){let t,n,s;return{c(){t=u("div"),n=u("h1"),s=y("XR is not available on this device. Kindly switch to Chrome for AR experience"),this.h()},l(e){t=f(e,"DIV",{});var i=x(t);n=f(i,"H1",{class:!0});var a=x(n);s=W(a,"XR is not available on this device. Kindly switch to Chrome for AR experience"),a.forEach(v),i.forEach(v),this.h()},h(){g(n,"class","svelte-1t730xc")},m(e,i){S(e,t,i),z(t,n),z(n,s)},p:C,i:C,o:C,d(e){e&&v(t)}}}function L(e){let t,n,s,i;return{c(){t=u("div"),n=y("See AR Portfolio"),this.h()},l(e){t=f(e,"DIV",{class:!0});var s=x(t);n=W(s,"See AR Portfolio"),s.forEach(v),this.h()},h(){g(t,"class","xrButton svelte-1t730xc")},m(a,r){S(a,t,r),z(t,n),s||(i=H(t,"click",(function(){M(e[1].startAR())&&e[1].startAR().apply(this,arguments)})),s=!0)},p(t,n){e=t},i:C,o:C,d(e){e&&v(t),s=!1,i()}}}function P(e){let t,n;return t=new T({props:{data:X,spin:!0}}),{c(){B(t.$$.fragment)},l(e){j(t.$$.fragment,e)},m(e,s){k(t,e,s),n=!0},p:C,i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function V(e){let t,n,s,i;const a=[P,L,K],r=[];function o(e,t){return null==e[0]?0:1==e[0]?1:2}return n=o(e),s=r[n]=a[n](e),{c(){t=u("div"),s.c(),this.h()},l(e){t=f(e,"DIV",{class:!0});var n=x(t);s.l(n),n.forEach(v),this.h()},h(){g(t,"class","container svelte-1t730xc")},m(e,s){S(e,t,s),r[n].m(t,null),i=!0},p(e,[i]){let c=n;n=o(e),n===c?r[n].p(e,i):(E(),R(r[c],1,1,(()=>{r[c]=null})),A(),s=r[n],s?s.p(e,i):(s=r[n]=a[n](e),s.c()),b(s,1),s.m(t,null))},i(e){i||(b(s),i=!0)},o(e){R(s),i=!1},d(e){e&&v(t),r[n].d()}}}function q(e,t,n){let s,i=null;return $((()=>{"xr"in navigator&&navigator.xr.isSessionSupported("immersive-ar").then((e=>{n(0,i=e),i&&(window.focus(),n(1,s=new I),window.app=s)}))})),[i,s]}class G extends w{constructor(e){super(),m(this,e,q,V,p,{})}}export{G as default};
